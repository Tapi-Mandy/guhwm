#   ____  ___  _   _ _____ ___ ____ 
#  / ___|/ _ \| \ | |  ___|_ _/ ___|
# | |   | | | |  \| | |_   | | |  _ 
# | |___| |_| | |\  |  _|  | | |_| |
#  \____|\___/|_| \_|_|   |___\____|
# For more, see https://github.com/DreamMaoMao/mango/wiki/

#---------------------------------------------------------------------------
# AUTOSTART / Run specified commands once at startup
#---------------------------------------------------------------------------
# Modern Wayland DBus environment
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=wlroots

# Launches Waybar, a highly customizable and popular status bar for Wayland compositors.
exec-once = waybar

# Start the NetworkManager applet
exec-once = nm-applet --indicator

# Launches the swww-daemon, a tool for setting wallpapers.
exec-once = swww-daemon

# default-wallpaper.sh (deletes itself after execution)
exec-once = [ -x "$HOME/.config/mango/scripts/default-wallpaper.sh" ] && "$HOME/.config/mango/scripts/default-wallpaper.sh"

# Restore the last wallpaper (only runs when default-wallpaper.sh is gone)
exec-once = sleep 0.5 && [ ! -x "$HOME/.config/mango/scripts/default-wallpaper.sh" ] && swww restore

# Launches SwayNC (Sway Notification Center).
# This handles displaying and managing desktop notifications.
exec-once = swaync

# Nightlight (wlsunset)
exec-once = [ -f ~/.cache/nightlight_enabled ] && wlsunset -s 00:00 -S 23:59 -t 3400 -T 3401

# Launches the Polkit Authentication Agent from GNOME. This is the program responsible for popping up the password prompt when an application tries to perform a privileged action.
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

#---------------------------------------------------------------------------
# KEYBINDS / Modifiers: ALT,SUPER,CTRL,SHIFT,NONE
#---------------------------------------------------------------------------
# --- Applications ---
# > Launcher (Rofi)
bind=ALT,A,spawn_shell,rofi -show drun || pkill rofi

# > Terminal
bind=ALT+SHIFT,Return,spawn,YOURTERMINAL

# > File Manager
bind=ALT,E,spawn,YOURTERMINAL -e YOURFILEMANAGER

# > SwayNC
bind=ALT+SHIFT,A,spawn,swaync-client -t

# > Screenshot (guhShot)
bind=NONE,Print,spawn,guhshot --full
bind=SHIFT,Print,spawn,guhshot --region

# > Close Window
bind=ALT,Q,killclient

# --- Config ---
# > Open Config
bind=ALT+SHIFT,E,spawn,YOURTERMINAL -e YOUREDITOR /home/$USER/.config/mango/config.conf

# > Reload Config
bind=ALT+SHIFT,R,reload_config

# --- Navigation ---
# > Cycle window focus with J and K
bind=ALT,j,focusstack,next
bind=ALT,k,focusstack,prev
bind=ALT,Tab,focusstack,next

# > Directional focus
bind=SUPER,h,focusdir,left
bind=SUPER,l,focusdir,right
bind=SUPER,k,focusdir,up
bind=SUPER,j,focusdir,down

# --- Window Manipulation ---
# > Move Window (Directional - Works in Tiling & Scroller)
bind=ALT+SHIFT,j,exchange_client,down
bind=ALT+SHIFT,k,exchange_client,up
bind=ALT+SHIFT,h,exchange_client,left
bind=ALT+SHIFT,l,exchange_client,right

# > Master Window
bind=ALT,Return,zoom

# > Master/Stack Resizing
bind=ALT,h,resizewin,-50,0
bind=ALT,l,resizewin,50,0

# --- Layout Management ---
# > Switch Layout
bind=CTRL,space,switch_layout

# > Floating
bind=ALT,space,togglefloating

# > Fullscreen Window
bind=ALT,f,togglefullscreen

# > Minimizing Windows
bind=ALT,i,minimized
bind=ALT+SHIFT,I,restore_minimized

# --- Tagging System ---
# > View Tag (ALT + Number)
bind=ALT,1,view,1,0
bind=ALT,2,view,2,0
bind=ALT,3,view,3,0
bind=ALT,4,view,4,0
bind=ALT,5,view,5,0
bind=ALT,6,view,6,0
bind=ALT,7,view,7,0
bind=ALT,8,view,8,0
bind=ALT,9,view,9,0

# > Move Window to Tag (ALT + SHIFT + Number)
bind=ALT+SHIFT,1,tag,1,0
bind=ALT+SHIFT,2,tag,2,0
bind=ALT+SHIFT,3,tag,3,0
bind=ALT+SHIFT,4,tag,4,0
bind=ALT+SHIFT,5,tag,5,0
bind=ALT+SHIFT,6,tag,6,0
bind=ALT+SHIFT,7,tag,7,0
bind=ALT+SHIFT,8,tag,8,0
bind=ALT+SHIFT,9,tag,9,0

# > Mouse Wheel Workspace Switching ---
# Hold ALT + Scroll Wheel to flip through active tags (workspaces)
# Note: This only stops on tags that actually have windows open
axisbind=ALT,UP,viewtoleft_have_client
axisbind=ALT,DOWN,viewtoright_have_client

# --- Monitor Focus ---
bind=ALT,comma,focusmon,left
bind=ALT,period,focusmon,right
bind=ALT+SHIFT,comma,tagmon,left
bind=ALT+SHIFT,period,tagmon,right

# --- Gaps ---
bind=ALT,minus,incgaps,-1
bind=ALT,equal,incgaps,1
bind=ALT+SHIFT,g,togglegaps

# --- Mouse Bindings ---
mousebind=ALT,btn_left,moveresize,curmove
mousebind=ALT,btn_right,moveresize,curresize

# --- Layer Rule ---
layerrule=animation_type_open:slide,layer_name:rofi
layerrule=animation_type_close:slide,layer_name:rofi

# --- Scratchpad ---
bind=ALT,s,toggle_scratchpad

# --- Window Rules ---
# > NetworkManager
windowrule=isfloating:1,appid:nm-connection-editor
windowrule=width:360,height:480,appid:nm-connection-editor

# > guhwall
windowrule=isfloating:1,appid:guhwall

# > guhShot
windowrule=isfloating:1,appid:com.tapi.guhshot
windowrule=isfloating:1,width:360,height:480,appid:guhshot

# --- Quit ---
bind=ALT+SHIFT,Q,quit

#---------------------------------------------------------------------------
# KEYBOARD & INPUT CONFIGURATION
#---------------------------------------------------------------------------
# Example Layouts: English (US), Bulgarian (BDS), Arabic (101)
# xkb_rules_layout = us,bg,ara

# --> Switch Layouts:
# Enable the line below to switch layouts using Super (Winkey) + Space (Default)
# xkb_options = grp:win_space_toggle

# --> Layout Variant Configuration:
# Example: First layout (US) has no variant, second (BG) is the BDS (Standard) layout, third (ARA) is the Arabic 101 layout
# To set variants, use a comma-separated list (e.g., us,bg,ara)
# xkb_rules_variant = 

# --> Typing behavior
repeat_rate = 30
repeat_delay = 250
numlockon = 0

# --> Trackpad settings
disable_trackpad=0
tap_to_click=1
tap_and_drag=1
drag_lock=1
trackpad_natural_scrolling=0
disable_while_typing=1
left_handed=0
middle_button_emulation=0
swipe_min_threshold=1

# --> Mouse settings
mouse_natural_scrolling=0
accel_speed = -0

#---------------------------------------------------------------------------
# WINDOW EFFECTS
#---------------------------------------------------------------------------
# --> Blur
blur=1
blur_layer=0
blur_optimized=0
blur_params_num_passes = 3
blur_params_radius = 5
blur_params_noise = 0.02
blur_params_brightness = 1
blur_params_contrast = 1
blur_params_saturation = 1

# --> Shadows
shadows = 0
layer_shadows = 0
shadow_only_floating = 1
shadows_size = 10
shadows_blur = 15
shadows_position_x = 0
shadows_position_y = 0
shadowscolor= 0x000000ff
border_radius=10
no_radius_when_single=0

# --> Animations
animations=1
layer_animations=1
animation_type_open=zoom
zoom_initial_ratio=0.3
zoom_end_ratio=0.8
fadein_begin_opacity = 0.9
animation_duration_open=700
animation_curve_open=0.22,1.0,0.36,1

# --> Close/Unmap Windows
animation_type_close=zoom
animation_duration_close=800
animation_curve_close=0.08,0.92,0,1

# --> Tag/Workspace Switch
tag_animation_direction=1
animation_fade_in=1
animation_fade_out=1
animation_duration_tag=1
animation_curve_tag=0.46,1.0,0.29,1

# --> Move/Focus
animation_duration_move=500
animation_curve_move=0.46,1.0,0.29,1
animation_duration_focus=500
animation_curve_focus=0.46,1.0,0.29,1

# --> Scroller Layout Setting
scroller_structs=20
scroller_default_proportion=0.8
scroller_focus_center=0
scroller_prefer_center=0
edge_scroller_pointer_focus=1
scroller_default_proportion_single=1.0
scroller_proportion_preset=0.5,0.8,1.0

# --> Master-Stack Layout Setting
new_is_master=0
default_mfact=0.55
default_nmaster=1
smartgaps=0

# --> Overview Setting
hotarea_size=10
enable_hotarea=1
ov_tab_mode=0
overviewgappi=5
overviewgappo=30

# --> Misc
no_border_when_single=0
axis_bind_apply_timeout=100
focus_on_activate=1
sloppyfocus=1
warpcursor=1
focus_cross_monitor=0
focus_cross_tag=0
enable_floating_snap=0
snap_distance=30
cursor_size=24
drag_tile_to_tile=1
allow_tearing = 1
view_current_to_back = 0

#---------------------------------------------------------------------------
# APPEARANCE SETTINGS
#---------------------------------------------------------------------------
gappih=5
gappiv=5
gappoh=10
gappov=10
scratchpad_width_ratio=0.8
scratchpad_height_ratio=0.9
borderpx=0
rootcolor=0x201b14ff
bordercolor=0x444444ff
focuscolor=0xc9b890ff
maximizescreencolor=0x89aa61ff
urgentcolor=0xad401fff
scratchpadcolor=0x516c93ff
globalcolor=0xb153a7ff
overlaycolor=0x14a57cff

tagrule=id:1,layout_name:grid
tagrule=id:2,layout_name:grid
tagrule=id:3,layout_name:grid
tagrule=id:4,layout_name:grid
tagrule=id:5,layout_name:grid
tagrule=id:6,layout_name:grid
tagrule=id:7,layout_name:grid
tagrule=id:8,layout_name:grid
tagrule=id:9,layout_name:grid
